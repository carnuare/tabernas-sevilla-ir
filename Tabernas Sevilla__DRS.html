<!doctype html>
<html lang="es">
<head>
<meta charset="iso-8859-1" />
<meta name="generatedBy" content="REMUS" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/amador-duran-toro/remus/assets/stylesheets/remus.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/amador-duran-toro/remus/assets/stylesheets/madeja.css" />
<title>Proyecto Tabernas Sevilla</title>
<script>
            // array for user warnings
            var warnings = new Array();
        </script>
</head>
<body>
<div id="warning_container" class="ui-widget">
<span id="warning_title">Avisos</span>
<div id="warning_messages"></div>
</div>
<div id="document_cover">
<div id="browser_info">
<script>
                document.write( navigator.userAgent );
            </script>
</div>
<div id="project_name">Proyecto Tabernas Sevilla</div>
<div id="document_logo">
<img alt="Universidad de Sevilla" src="https://cdn.jsdelivr.net/gh/amador-duran-toro/rem/assets/images/logo_us.gif" />
</div>
<div id="document_name">System Analisis Document</div>
<div id="document_version">Versión 1.0</div>
<div id="document_date">Fecha 02/11/2020</div>
<div id="document_prepared_for">Preparado para:<p class="tbd">?</p></div>
<div id="document_prepared_by">Preparado por:<p class="tbd">?</p></div>
</div>
<div class="pagebreak"></div>
<nav id="toc" role="navigation">
<h1>Índice</h1>
<ul class="toc_list toc_list_level_1">
<li>1 <a href="#SEC-0034">Introduction</a></li>
<li>2 <a href="#SEC-0035">Logic architecture of the system</a></li>
<ul class="toc_list">
<li>2.1 <a href="#SEC-0058">Architecture of the system diagrams</a></li>
<li>2.2 <a href="#SEC-0059">Architecture of the system description</a></li>
</ul>
<li>3 <a href="#SEC-0036">Model of classes of the system</a></li>
<li>4 <a href="#SEC-0037">Model of the user cases of the sytem</a></li>
<li>5 <a href="#SEC-0038">User interface</a></li>
</ul>
</nav>
<div class="pagebreak"></div>
<h1 id="SEC-0034" class="section">1 Introduction</h1>
<div id="PRG-0059">
<div id="PRG-0059-text-html" class=""></div>
</div>
<h1 id="SEC-0035" class="section">2 Logic architecture of the system</h1>
<h2 id="SEC-0058" class="section">2.1 Architecture of the system diagrams</h2>
<div id="GRF-0042" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\3mvcSpringPattern.jpg" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 1:
                 </span>
<span id="GRF-0042-name-html" class=""><a href='#GLO-0062' class="rem_ref">The MVC pattern in Spring</a></span>
</p>
</div>
<div id="GRF-0040" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\2-1DETAILED LAYER.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 2:
                 </span>
<span id="GRF-0040-name-html" class=""><a href='#GLO-0066' class="rem_ref">Detailed view of layers</a>, <a href='#GLO-0066' class="rem_ref">services and architecture</a></span>
</p>
</div>
<h2 id="SEC-0059" class="section">2.2 Architecture of the system description</h2>
<div id="GLO-0062" class="glo">
<div id="GLO-0062-text-html" class=""><p><strong>The MVC pattern in Spring</strong>: </p>
<p>The Spring Web MVC framework provides Model-View-Controller (MVC) architecture and ready components that can be used to develop flexible and loosely coupled web applications. The MVC pattern results in separating the different aspects of the application (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</p>
<p>The Model encapsulates the application data and in general they will consist of POJO.</p>
<p>The View is responsible for rendering the model data and in general it generates HTML output that the client's browser can interpret.</p>
<p>The Controller is responsible for processing user requests and building an appropriate model and passes it to the view for rendering.</p></div>
</div>
<div id="GLO-0066" class="glo">
<div id="GLO-0066-text-html" class=""><p><strong>Detailed view of layers, services and architecture</strong>: </p>
<ol>
<li><p>Request<br />
The first step in the MVC flow is when a request is received by the Dispatcher Servlet. </p></li>
<li><p>Dispatcher Servlet<br />
Now, the Dispatcher Servlet will with the help of Handler Mapping understand the Controller class name associated with the received request. Once the Dispatcher Servlet knows which Controller will be able to handle the request, it will transfer the request to it. </p></li>
<li><p>Controller<br />
The Controller will process the request based on appropriate methods and will return it to Model Data and View Name.</p></li>
<li><p>Model and View<br />
It will return the processed data to the Dispatcher Servlet. </p></li>
<li><p>View Resolver<br />
Once Model and View receive the data, Dispatcher Servlet will transfer it to the View Resolver to get the actual view page. </p></li>
<li><p>View<br />
Finally, the Dispatcher Servlet will pass the Model object (results) to the view page. This is the final step of the flow where the results will be displayed. </p></li>
</ol></div>
</div>
<h1 id="SEC-0036" class="section">3 Model of classes of the system</h1>
<div id="GRF-0038" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\data model.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 3:
                 </span>
<span id="GRF-0038-name-html" class="">Data model</span>
</p>
</div>
<div id="PRG-0058">
<div id="PRG-0058-text-html" class=""><p>There are 5 actors in the system: admin, customer, waiter, manager and cool. The <a href='#GLO-0050' class="rem_ref">website</a> will have 3 different account privileges, customer, cook and admin.<br />
 There is a message system between the actors of the system, to send information about orders inside a tavern or from delivieries.</p>
<p>Each time an <a href='#GLO-0055' class="rem_ref">order</a> is made through the <a href='#GLO-0050' class="rem_ref">website</a>, the system will allow the user to wirte a <a href='#GLO-0044' class="rem_ref">review</a> about the dish. Also, the take away system will send the user an email every time the state of the <a href='#GLO-0045' class="rem_ref">delivery</a> changes (as seen in the user interface prototype).</p>
<p>Promotions and JobApplication are both connected to an estabilshment because they both depend on the tavern. </p>
<p><a href='#GLO-0048' class="rem_ref">Bookings</a> are always associated to an establishment, and it can be made as long as there is free space inside or outside a tavern. A booking or <a href='#GLO-0052' class="rem_ref">reservation</a> can introduce an <a href='#GLO-0055' class="rem_ref">order</a>, so that when you arrive to the establishment, you have your food ready to eat without having to <a href='#GLO-0055' class="rem_ref">order</a> and wait. </p>
<p>All dishes have a list of allergens associated, and depending on whether or not that specific allergen can be found in the dish, the value "isPresent" will be true or false. So a dish might have 3 allergens listed but if they all have "isPresent" false, that dish does not contain any allergen.</p></div>
</div>
<h1 id="SEC-0037" class="section">4 Model of the user cases of the sytem</h1>
<h1 id="SEC-0038" class="section">5 User interface</h1>
<div id="GRF-0018" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 1.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 4:
                 </span>
<span id="GRF-0018-name-html" class="">General view of the <a href='#GLO-0050' class="rem_ref">website</a>, where we can see how to access most of the functionalities of the web app.</span>
</p>
</div>
<div id="GRF-0019" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 2.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 5:
                 </span>
<span id="GRF-0019-name-html" class="">Registration view</span>
</p>
</div>
<div id="GRF-0020" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 3.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 6:
                 </span>
<span id="GRF-0020-name-html" class="">Online menu. Unregistered user view. You can select whether if you like to view food or drinks. There is also a filter to see which ones do not have specific allergens.</span>
</p>
</div>
<div id="GRF-0021" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 4.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 7:
                 </span>
<span id="GRF-0021-name-html" class="">Product <a href='#GLO-0044' class="rem_ref">review</a> view. Where a registered who had previously ordered the item can write or just rate a product with up to 5 stars. The admin can interact with the <a href='#GLO-0046' class="rem_ref">customers</a> by replying to the comment.</span>
</p>
</div>
<div id="GRF-0022" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 5.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 8:
                 </span>
<span id="GRF-0022-name-html" class="">Promotions view. Unregistered user view. Where anyone can see the promotions available. </span>
</p>
</div>
<div id="GRF-0023" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 6.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 9:
                 </span>
<span id="GRF-0023-name-html" class=""><a href='#GLO-0056' class="rem_ref">User profile</a> view. Registered user view. Where you can change your credentials and personal data, add an address for your deliveries, and access other functionalities of the web-app.</span>
</p>
</div>
<div id="GRF-0024" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 7.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 10:
                 </span>
<span id="GRF-0024-name-html" class="">History view. Registered user view. Where you can view past orders easily in case you want to repeat something. </span>
</p>
</div>
<div id="GRF-0025" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 8.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 11:
                 </span>
<span id="GRF-0025-name-html" class="">Privacy settings view. Registered user view. Where you can subscribe to the Newsletter or delete your account. </span>
</p>
</div>
<div id="GRF-0026" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 9.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 12:
                 </span>
<span id="GRF-0026-name-html" class="">User reviews view. Registered user view. Here you can see the reviews the registered user has written.</span>
</p>
</div>
<div id="GRF-0027" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 10.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 13:
                 </span>
<span id="GRF-0027-name-html" class="">Booking/<a href='#GLO-0052' class="rem_ref">reservation</a> view. Unregistered user view. Where you can make a <a href='#GLO-0052' class="rem_ref">reservation</a> in any of the <a href='#GLO-0043' class="rem_ref">establishments</a>, inside or outside. You can also select if you are lactose intolerant or celiac to take it into account. </span>
</p>
</div>
<div id="GRF-0028" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 11.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 14:
                 </span>
<span id="GRF-0028-name-html" class="">Chef data view. Registered chef view. Where the user-type-chef can see and change their personal data. This chef is registered by the administrator (seen later).</span>
</p>
</div>
<div id="GRF-0029" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 12.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 15:
                 </span>
<span id="GRF-0029-name-html" class="">Electronic command view. Registered chef view. Where a chef can see the orders associated with their establishment. The orders are shown depending on the emergency, and they can be cancelled by the chef. </span>
</p>
</div>
<div id="GRF-0030" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 13.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 16:
                 </span>
<span id="GRF-0030-name-html" class="">Manage chefs' view. Admin view. The admin is the only type of user who can add chefs to a given establishment (or to delete them). </span>
</p>
</div>
<div id="GRF-0031" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 14.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 17:
                 </span>
<span id="GRF-0031-name-html" class="">Register chef view. Admin view. Form to register a new chef. </span>
</p>
</div>
<div id="GRF-0032" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 16.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 18:
                 </span>
<span id="GRF-0032-name-html" class="">Checkout view. Unregistered user view. When you finish selecting what you want to eat, you must confirm the <a href='#GLO-0055' class="rem_ref">order</a>. You can choose to have it delivered to you address or to pick it up in a tavern. You must be logged in before ordering food. </span>
</p>
</div>
<div id="GRF-0033" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 17.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 19:
                 </span>
<span id="GRF-0033-name-html" class="">Confirmation of <a href='#GLO-0055' class="rem_ref">order</a> view. Registered user view. When you confirm an <a href='#GLO-0055' class="rem_ref">order</a>, you can see the state of it, its details, and the estimated <a href='#GLO-0045' class="rem_ref">delivery</a> time. </span>
</p>
</div>
<div id="GRF-0034" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 18.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 20:
                 </span>
<span id="GRF-0034-name-html" class="">Establishment view. Unregistered user view. When selecting a tavern, you can see a ranking of the waiters whom you can rate and write reviews about when you log in. This view also indicated the current capacity and the estimated time of availability.</span>
</p>
</div>
<div id="GRF-0035" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 19.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 21:
                 </span>
<span id="GRF-0035-name-html" class="">Manage products view. Admin view. Where the admin can view and add all the dishes and <a href='#GLO-0042' class="rem_ref">wines</a>/drinks available in all <a href='#GLO-0043' class="rem_ref">taverns</a>.</span>
</p>
</div>
<div id="GRF-0036" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 20.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 22:
                 </span>
<span id="GRF-0036-name-html" class="">Add product view. Admin view. Where the admin adds a new item, dish or drink. </span>
</p>
</div>
<div id="GRF-0037" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 21.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figura 23:
                 </span>
<span id="GRF-0037-name-html" class="">Employment view. Registered user view (can be accessed without registration). Where you can send your CV to the business. </span>
</p>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
            // set tooltips of rem:ref references to glossary items or class supertypes
            $( ".rem_ref" ).each( function () {
                var sharp_position = this.href.lastIndexOf("#");
                var id_glossary_item = this.href.substring( sharp_position + 1 ) + "-text-html";
                var id_supertype = this.href.substring( sharp_position + 1 ) + "-description-html";

                // some rem:refs to use cases do not have -text-html elements
                if ( document.getElementById( id_glossary_item ) )
                    this.title = document.getElementById( id_glossary_item ).innerText;

                else if ( document.getElementById( id_supertype ) )
                    this.title = document.getElementById( id_supertype ).innerText;
            });

            // set tooltips of rem:tbd elements
            $( ".tbd" ).each( function () {
                this.title = 'Por determinar';
            });

            // show warnings (if any)
            if ( warnings.length ) {
                var warning_list = $("<ul></ul>");
                for ( var i = 0; i < warnings.length; i++ ) {
                    var warning = warnings[ i ];
                    var warning_link = $('<a href="#' + warning.oid + '">' + warning.oid + '</a>' );
                    var warning_message = ": " + warning.message;
                    var warning_item = $("<li></li>").append(warning_link, warning_message);

                    warning_list.append( warning_item );
                }
                $("#warning_messages").append( warning_list );
                $("#warning_container").show();
            }

            // manage traceability matrices buttons
            function update_font_size( parent_table, size )
            {
                var matrix_columns = parent_table.find( "th.matrix_column" );
                var font_size = parseInt( matrix_columns.eq(0).css( "font-size" ), 10 );

                matrix_columns.css( "font-size", font_size + size );
            }

            $( "button.reduce_font" ).click( function() {
                var parent_table = $(this).parents( "table.traceability_matrix" );
                update_font_size( parent_table, -1 );
            });

            $( "button.increase_font" ).click( function() {
                var parent_table = $(this).parents( "table.traceability_matrix" );
                update_font_size( parent_table, 1 );
            });
        </script>
<script src="https://cdn.jsdelivr.net/gh/amador-duran-toro/remus/assets/javascripts/ie7-shim-min-width.js"></script>
<script>
            fixMinWidthForIE();
        </script>
</body>
</html>
