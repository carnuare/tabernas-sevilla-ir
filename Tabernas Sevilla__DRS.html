<!doctype html>
<html lang="en">
<head>
<meta charset="iso-8859-1" />
<meta name="generatedBy" content="REMUS" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/amador-duran-toro/remus/assets/stylesheets/remus.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/amador-duran-toro/remus/assets/stylesheets/madeja.css" />
<title>Project Tabernas Sevilla</title>
<script>
            // array for user warnings
            var warnings = new Array();
        </script>
</head>
<body>
<div id="warning_container" class="ui-widget">
<span id="warning_title">Warnings</span>
<div id="warning_messages"></div>
</div>
<div id="document_cover">
<div id="browser_info">
<script>
                document.write( navigator.userAgent );
            </script>
</div>
<div id="project_name">Project Tabernas Sevilla</div>
<div id="document_logo">
<img alt="Universidad de Sevilla" src="https://cdn.jsdelivr.net/gh/amador-duran-toro/rem/assets/images/logo_us.gif" />
</div>
<div id="document_name">System Analisis Document</div>
<div id="document_version">Version 1.0</div>
<div id="document_date">Date 02/11/2020</div>
<div id="document_prepared_for">Prepared for:<p>
<a href="#ORG-0001">Tabernas Sevilla</a>
</p>
</div>
<div id="document_prepared_by">Prepared by:<p>
<a href="#ORG-0002">Universidad de Sevilla</a>
</p>
</div>
</div>
<div class="pagebreak"></div>
<nav id="toc" role="navigation">
<h1>Table of contents</h1>
<ul class="toc_list toc_list_level_1">
<li>1 <a href="#SEC-0034">Introduction</a></li>
<li>2 <a href="#SEC-0035">Logic architecture of the system</a></li>
<ul class="toc_list">
<li>2.1 <a href="#SEC-0058">Architecture of the system diagrams</a></li>
<li>2.2 <a href="#SEC-0059">Architecture of the system description</a></li>
</ul>
<li>3 <a href="#SEC-0036">Model of classes of the system</a></li>
<ul class="toc_list">
<li>3.1 <a href="#SEC-0061">System class diagram</a></li>
<li>3.2 <a href="#SEC-0060">System class descriptoin</a></li>
</ul>
<li>4 <a href="#SEC-0038">User interface</a></li>
</ul>
</nav>
<div class="pagebreak"></div>
<h1 id="SEC-0034" class="section">1 Introduction</h1>
<div id="PRG-0067"><div id="PRG-0067-text-html" class=""><p>Tabernas Sevilla is a well-known chain of restaurants in Seville that has been around since 2001. There are four <rem:ref oid="GLO-0043">establishments</rem:ref> across the capital, which are usually visited by young adults and families. Its specialty are sevillian <rem:ref oid="GLO-0040">tapas</rem:ref> and dishes. They also have a very large wine menu<br/><br/>Our system fulfils three fundamental functions for Tabernas Sevilla&apos;s business model. It is based on a web page that allows the ordering of commands on-line. Using a computerized web menu, users can select which dishes from Tabernas Sevilla&apos;s extensive menu they wish to <rem:ref oid="GLO-0055">order</rem:ref> and which of the 4 restaurants available throughout Seville to collect them from, giving them an estimated time to collect the <rem:ref oid="GLO-0055">order</rem:ref> on site or selecting <rem:ref oid="GLO-0045">delivery</rem:ref> to the previously specified address.  <br/>  <br/>In addition, it has the functionality implemented to manage the capacity of the bar&apos;s <rem:ref oid="GLO-0046">customers</rem:ref>, being able to make table reservations in advance by agreeing on a time, and if desired, also agreeing on the dishes to be consumed. In this way, the client does not have to wait for his dishes when he arrives at the bar but can enjoy them in the best possible way. This helps to solve one of the basic problems of the business, the management of the <rem:ref oid="GLO-0049">waiting list</rem:ref>, which is currently done by hand by the waiters. <br/></rem:text></p></div>
</div>
<h1 id="SEC-0035" class="section">2 Logic architecture of the system</h1>
<h2 id="SEC-0058" class="section">2.1 Architecture of the system diagrams</h2>
<div id="GRF-0042" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\3mvcSpringPattern.jpg" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 1:
                 </span>
<span id="GRF-0042-name-html" class="">The MVC pattern in Spring</span>
</p>
</div>
<div id="GRF-0040" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\2-1DETAILED LAYER.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 2:
                 </span>
<span id="GRF-0040-name-html" class="">Detailed view of layers, services and architecture</span>
</p>
</div>
<h2 id="SEC-0059" class="section">2.2 Architecture of the system description</h2>
<div id="GLO-0062" class="glo">
<div id="GLO-0062-text-html" class=""><p><strong>The MVC pattern in Spring</strong>: </p>
<p>The Spring Web MVC framework provides Model-View-Controller (MVC) architecture and ready components that can be used to develop flexible and loosely coupled web applications. The MVC pattern results in separating the different aspects of the application (input logic, business logic, and UI logic), while providing a loose coupling between these elements.</p>
<p>The Model encapsulates the application data and in general they will consist of POJO.</p>
<p>The View is responsible for rendering the model data and in general it generates HTML output that the client's browser can interpret.</p>
<p>The Controller is responsible for processing user requests and building an appropriate model and passes it to the view for rendering.</p></div>
</div>
<div id="GLO-0066" class="glo">
<div id="GLO-0066-text-html" class=""><p><strong>Detailed view of layers, services and architecture</strong>: </p>
<ol>
<li><p>Request<br />
The first step in the MVC flow is when a request is received by the Dispatcher Servlet. </p></li>
<li><p>Dispatcher Servlet<br />
Now, the Dispatcher Servlet will with the help of Handler Mapping understand the Controller class name associated with the received request. Once the Dispatcher Servlet knows which Controller will be able to handle the request, it will transfer the request to it. </p></li>
<li><p>Controller<br />
The Controller will process the request based on appropriate methods and will return it to Model Data and View Name.</p></li>
<li><p>Model and View<br />
It will return the processed data to the Dispatcher Servlet. </p></li>
<li><p>View Resolver<br />
Once Model and View receive the data, Dispatcher Servlet will transfer it to the View Resolver to get the actual view page. </p></li>
<li><p>View<br />
Finally, the Dispatcher Servlet will pass the Model object (results) to the view page. This is the final step of the flow where the results will be displayed. </p></li>
</ol></div>
</div>
<h1 id="SEC-0036" class="section">3 Model of classes of the system</h1>
<h2 id="SEC-0061" class="section">3.1 System class diagram</h2>
<div id="GRF-0038" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\data model.png" width="98%%" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 3:
                 </span>
<span id="GRF-0038-name-html" class="">Data model</span>
</p>
</div>
<h2 id="SEC-0060" class="section">3.2 System class descriptoin</h2>
<div id="PRG-0058"><div id="PRG-0058-text-html" class=""><p>There are 5 actors in the system: admin, customer, waiter, manager and cool. The website will have 3 different account privileges, customer, cook and admin.<br />
 There is a message system between the actors of the system, to send information about orders inside a tavern or from delivieries.</p>
<p>Each time an order is made through the website, the system will allow the user to wirte a review about the dish. Also, the take away system will send the user an email every time the state of the delivery changes (as seen in the user interface prototype).</p>
<p>Promotions and JobApplication are both connected to an estabilshment because they both depend on the tavern. </p>
<p>Bookings are always associated to an establishment, and it can be made as long as there is free space inside or outside a tavern. A booking or reservation can introduce an order, so that when you arrive to the establishment, you have your food ready to eat without having to order and wait. </p>
<p>All dishes have a list of allergens associated, and depending on whether or not that specific allergen can be found in the dish, the value "isPresent" will be true or false. So a dish might have 3 allergens listed but if they all have "isPresent" false, that dish does not contain any allergen.</p></div>
</div>
<h1 id="SEC-0038" class="section">4 User interface</h1>
<div id="GRF-0018" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 1.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 4:
                 </span>
<span id="GRF-0018-name-html" class="">General view of the website, where we can see how to access most of the functionalities of the web app.</span>
</p>
</div>
<div id="GRF-0019" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 2.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 5:
                 </span>
<span id="GRF-0019-name-html" class="">Registration view</span>
</p>
</div>
<div id="GRF-0020" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 3.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 6:
                 </span>
<span id="GRF-0020-name-html" class="">Online menu. Unregistered user view. You can select whether if you like to view food or drinks. There is also a filter to see which ones do not have specific allergens.</span>
</p>
</div>
<div id="GRF-0021" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 4.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 7:
                 </span>
<span id="GRF-0021-name-html" class="">Product review view. Where a registered who had previously ordered the item can write or just rate a product with up to 5 stars. The admin can interact with the customers by replying to the comment.</span>
</p>
</div>
<div id="GRF-0022" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 5.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 8:
                 </span>
<span id="GRF-0022-name-html" class="">Promotions view. Unregistered user view. Where anyone can see the promotions available. </span>
</p>
</div>
<div id="GRF-0023" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 6.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 9:
                 </span>
<span id="GRF-0023-name-html" class="">User profile view. Registered user view. Where you can change your credentials and personal data, add an address for your deliveries, and access other functionalities of the web-app.</span>
</p>
</div>
<div id="GRF-0024" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 7.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 10:
                 </span>
<span id="GRF-0024-name-html" class="">History view. Registered user view. Where you can view past orders easily in case you want to repeat something. </span>
</p>
</div>
<div id="GRF-0025" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 8.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 11:
                 </span>
<span id="GRF-0025-name-html" class="">Privacy settings view. Registered user view. Where you can subscribe to the Newsletter or delete your account. </span>
</p>
</div>
<div id="GRF-0026" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 9.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 12:
                 </span>
<span id="GRF-0026-name-html" class="">User reviews view. Registered user view. Here you can see the reviews the registered user has written.</span>
</p>
</div>
<div id="GRF-0027" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 10.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 13:
                 </span>
<span id="GRF-0027-name-html" class="">Booking/reservation view. Unregistered user view. Where you can make a reservation in any of the establishments, inside or outside. You can also select if you are lactose intolerant or celiac to take it into account. </span>
</p>
</div>
<div id="GRF-0028" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 11.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 14:
                 </span>
<span id="GRF-0028-name-html" class="">Chef data view. Registered chef view. Where the user-type-chef can see and change their personal data. This chef is registered by the administrator (seen later).</span>
</p>
</div>
<div id="GRF-0029" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 12.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 15:
                 </span>
<span id="GRF-0029-name-html" class="">Electronic command view. Registered chef view. Where a chef can see the orders associated with their establishment. The orders are shown depending on the emergency, and they can be cancelled by the chef. </span>
</p>
</div>
<div id="GRF-0030" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 13.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 16:
                 </span>
<span id="GRF-0030-name-html" class="">Manage chefs' view. Admin view. The admin is the only type of user who can add chefs to a given establishment (or to delete them). </span>
</p>
</div>
<div id="GRF-0031" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 14.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 17:
                 </span>
<span id="GRF-0031-name-html" class="">Register chef view. Admin view. Form to register a new chef. </span>
</p>
</div>
<div id="GRF-0032" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 16.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 18:
                 </span>
<span id="GRF-0032-name-html" class="">Checkout view. Unregistered user view. When you finish selecting what you want to eat, you must confirm the order. You can choose to have it delivered to you address or to pick it up in a tavern. You must be logged in before ordering food. </span>
</p>
</div>
<div id="GRF-0033" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 17.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 19:
                 </span>
<span id="GRF-0033-name-html" class="">Confirmation of order view. Registered user view. When you confirm an order, you can see the state of it, its details, and the estimated delivery time. </span>
</p>
</div>
<div id="GRF-0034" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 18.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 20:
                 </span>
<span id="GRF-0034-name-html" class="">Establishment view. Unregistered user view. When selecting a tavern, you can see a ranking of the waiters whom you can rate and write reviews about when you log in. This view also indicated the current capacity and the estimated time of availability.</span>
</p>
</div>
<div id="GRF-0035" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 19.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 21:
                 </span>
<span id="GRF-0035-name-html" class="">Manage products view. Admin view. Where the admin can view and add all the dishes and wines/drinks available in all taverns.</span>
</p>
</div>
<div id="GRF-0036" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 20.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 22:
                 </span>
<span id="GRF-0036-name-html" class="">Add product view. Admin view. Where the admin adds a new item, dish or drink. </span>
</p>
</div>
<div id="GRF-0037" class="figure">
<img class="figure_image" src=".\Fotos Tabernas Sevilla\Mockups\mock 21.png" />
<p class="figure_caption">
<span class="figure_caption_label">Figure 23:
                 </span>
<span id="GRF-0037-name-html" class="">Employment view. Registered user view (can be accessed without registration). Where you can send your CV to the business. </span>
</p>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
            // set tooltips of rem:ref references to glossary items or class supertypes
            $( ".rem_ref" ).each( function () {
                var sharp_position = this.href.lastIndexOf("#");
                var id_glossary_item = this.href.substring( sharp_position + 1 ) + "-text-html";
                var id_supertype = this.href.substring( sharp_position + 1 ) + "-description-html";

                // some rem:refs to use cases do not have -text-html elements
                if ( document.getElementById( id_glossary_item ) )
                    this.title = document.getElementById( id_glossary_item ).innerText;

                else if ( document.getElementById( id_supertype ) )
                    this.title = document.getElementById( id_supertype ).innerText;
            });

            // set tooltips of rem:tbd elements
            $( ".tbd" ).each( function () {
                this.title = 'To Be Determined';
            });

            // show warnings (if any)
            if ( warnings.length ) {
                var warning_list = $("<ul></ul>");
                for ( var i = 0; i < warnings.length; i++ ) {
                    var warning = warnings[ i ];
                    var warning_link = $('<a href="#' + warning.oid + '">' + warning.oid + '</a>' );
                    var warning_message = ": " + warning.message;
                    var warning_item = $("<li></li>").append(warning_link, warning_message);

                    warning_list.append( warning_item );
                }
                $("#warning_messages").append( warning_list );
                $("#warning_container").show();
            }

            // manage traceability matrices buttons
            function update_font_size( parent_table, size )
            {
                var matrix_columns = parent_table.find( "th.matrix_column" );
                var font_size = parseInt( matrix_columns.eq(0).css( "font-size" ), 10 );

                matrix_columns.css( "font-size", font_size + size );
            }

            $( "button.reduce_font" ).click( function() {
                var parent_table = $(this).parents( "table.traceability_matrix" );
                update_font_size( parent_table, -1 );
            });

            $( "button.increase_font" ).click( function() {
                var parent_table = $(this).parents( "table.traceability_matrix" );
                update_font_size( parent_table, 1 );
            });
        </script>
<script src="https://cdn.jsdelivr.net/gh/amador-duran-toro/remus/assets/javascripts/ie7-shim-min-width.js"></script>
<script>
            fixMinWidthForIE();
        </script>
</body>
</html>
